---
description: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—É—Ä–∫—Ç—É—Ä—ã –Ω–∞ YAML —Å–æ–∑–¥–∞–µ—Ç –∫—É—á—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —Å –∫–æ—Ç–æ—Ä–æ–π —É–∂–µ —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å –≤ —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.
tags:
  - iac
published: 2021-06-26
title: –ü–∏—Å–∞—Ç—å YAML-—ã —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –∫–æ–¥
---

–ó–∞ –ø–µ—Ä–≤—ã–µ –ø–∞—Ä—É –Ω–µ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã –≤ Evil Martians, –Ω–∞—Å–º–æ—Ç—Ä–µ–ª—Å—è –Ω–∞ –∫—É–±–æ–≤—ã–µ —è–º–ª—ã –∏ –≤—Å–ø–æ–º–Ω–∏–ª –Ω–∞ —Å–∫–æ–ª—å–∫–æ –∂–µ —ç—Ç–æ –≤—Å–µ –ø–µ—á–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç. –ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ YAML —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ä–∞–±–æ—Ç–∞ —Å –Ω–∏–º–∏ —Å–æ–∑–¥–∞–µ—Ç –≤ —Ä–∞–∑—ã –±–æ–ª—å—à–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, —á–µ–º —ç—Ç–æ –µ—Å–ª–∏ —ç—Ç–æ –±—ã–ª –±—ã –∫–æ–¥ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.¬†  

–ü—Ä–µ–∂–¥–µ —á–µ–º —è —Ä–∞—Å–∫—Ä–æ—é –º—ã—Å–ª—å –ø—Ä–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–∑–Ω–∞—é –æ–±—â–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–º –¥–∞–ª Kubernetes:  

1. –ö–æ–¥ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç(–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å), –∞ –Ω–µ —Ç–æ –∫–∞–∫ –ø—Ä–∏–π—Ç–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É(–∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)  
2. –ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ –ø–æ–Ω–∏–º–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ  
3. –û–±—ä–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤ –ª—é–±–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –∫–æ–º–ø–∞–Ω–∏–∏  

## –ì–¥–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å
–ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–∞–º–∏ –æ–±—ä–µ–∫—Ç—ã –≤—ã–≥–ª—è–¥—è—Ç –∏ —á–∏—Ç–∞—é—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ. –í–æ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, Service. –í—Å–µ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ. –°–ª—É—à–∞–µ–º 80 –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ø–æ–¥—ã **app: MyApp** –Ω–∞ –ø–æ—Ä—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **http**.

![screenshot-2021-07-10-at-19-55-14.webp](../../../assets/images/screenshot-2021-07-10-at-19-55-14.webp)

–ü–æ–∫–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç, –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –Ω–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å–æ–±–∏—Ä–∞—Ç—å –∏–∑ –≤—Å–µ—Ö –∫—É–±–∏–∫–æ–≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ **–≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ YAML-—ã –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–º–æ–≥–∞—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∏ –Ω–∏–∫–∞–∫ –∏—Ö –Ω–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç**.  

–í–æ–∑—å–º–µ–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Ingress, Service –∏ Deployment.

![screenshot-2021-06-27-at-08-57-30-1.webp](../../../assets/images/screenshot-2021-06-27-at-08-57-30-1.webp)

–í—Å–µ–≥–æ 3 –ø—Ä–æ—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–∞. –ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–æ—Å—Ç–æ, –∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–∂–¥—ã–º –∏–∑ –Ω–∏—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤ –≥–æ–ª–æ–≤–µ –∫—É—á—É —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.  

–ö–∞–∫–∏–µ –Ω—é–∞–Ω—Å—ã —Å–≤—è–∑–µ–π —è –≤—ã–¥–µ–ª–∏–ª –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –≤—ã—à–µ:  

**Ingress**
1. _backend.service.name_ –≤ Ingress –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å _metadata.name_ –≤ Service
2. _backend.service.port.number_ –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å _spec.ports.port_ –≤ Service  
3. _metadata.name_ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö Namespace  

–ë–µ–∑ —ç—Ç–∏—Ö –¥–≤—É—Ö –ø—É–Ω–∫—Ç–æ–≤ Ingress –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ Service –∏ –µ–≥–æ –ø–æ–¥—ã.  

**Service**  
3. _spec.selector_ –≤ Service –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å _spec.template.metadata.labels_ –≤ Deployment  
4. _spec.ports.targetPort_ —É Service –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å _containerPort_ –≤ Deployment  
5. _metadata.name_ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö Namespace  

–ë–µ–∑ —ç—Ç–∏—Ö –¥–≤—É—Ö –ø—É–Ω–∫—Ç–æ–≤ Service –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–æ–¥—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Deployment, –∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å¬†–Ω–∞ –Ω–∏—Ö —Ç—Ä–∞—Ñ–∏–∫.  

**Deployment**  
6. _selector.matchLabels_ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —á–∞—Å—Ç—å—é –ª–µ–π–±–ª–æ–≤ _template.metadata.labels 
7. _metadata.name_ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö Namespace  
8. –¢—É—Ç –µ—â–µ –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å —Ç–µ–º —á—Ç–æ _template.metadata.labels_  

Deployment, –±–µ–∑ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö _labels_, –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–∞–∫–∏—Ö –ø–æ–¥–æ–≤ –µ–º—É –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å. –ê –µ—â–µ –Ω–∞–º –µ—â–µ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ _labels_ –≤ —Ä–∞–º–∫–∞—Ö Namespace, –∏–Ω–∞—á–µ Deployment –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å –ø–æ–¥—ã –¥—Ä—É–≥–æ–≥–æ Deployment –∑–∞ —Å–≤–æ–∏.  

–í—ã —Ç–æ–ª—å–∫–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ! –í—Å–µ–≥–æ 3 –æ–±—ä–µ–∫—Ç–∞, –∞ —É–∂–µ –Ω–∞ —Ä–æ–≤–Ω–æ–º –≤—Å–ø–ª—ã–ª–æ 8 –Ω—é–∞–Ω—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∏ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤ –≥–æ–ª–æ–≤–µ, –ø–æ–∫–∞ –ø–∏—à–µ—à—å —ç—Ç–æ –≤—Å–µ! –ú–∞–ª–æ —Ç–æ–≥–æ, —ç—Ç–æ –≤—Å–µ –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç—ã –Ω–µ —Ä–∞–∑–ª–æ–º–∞–ª –≤—Å–µ —ç—Ç–∏ –Ω—é–∞–Ω—Å—ã. **–ù–∏ —Å–∞–º Kubernetes, –Ω–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IDE –Ω–µ –º–æ–≥—É—Ç —É–∫–∞–∑–∞—Ç—å –≤–∞–º –Ω–∞ —ç—Ç–∏ –Ω—é–∞–Ω—Å—ã! –í—Å–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å—Å—è –¥–µ–ª–∞—Ç—å —Å–≤–æ–µ–π –≥–æ–ª–æ–≤–æ–π!** –ê —ç—Ç–æ —è –≤–µ–¥—å –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –≤–∑—è–ª, –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Job, –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Deployment –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, StatefulSets, Secrets, PersistenVolumeClaim –∏ —Ç.–¥.  

## –ü–æ—á–µ–º—É –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ YAML
1. YAML-—Ñ–∞–π–ª–∏–∫–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞ –Ω–∏–∫–∞–∫ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –∏ –Ω–∏—á–µ–≥–æ –¥—Ä—É–≥ –ø—Ä–æ –¥—Ä—É–≥–∞ –Ω–µ –∑–Ω–∞—é—Ç.  
  
2. –õ–∏–Ω—Ç–µ—Ä –∏–ª–∏ LSP –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç–æ–º—É —Å–≤—è–∑—å –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —Å–ª–∏—à–∫–æ–º –Ω–µ—è–≤–Ω–∞—è –∏ –º—ã –Ω–µ –º–æ–∂–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∫–∞–∫–∏–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã.¬†  
  
3. YAML –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –∫–∞–∫-—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ç–∏–ø–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.  

–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π CRD, –ø—ã—Ç–∞—é—Ç—Å—è –∫–∞–∫-—Ç–æ —Ä–µ—à–∞—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –Ω–æ –≤—Å–µ –±–µ–∑—É—Å–ø–µ—à–Ω–æ. –õ—É—á—à–∏–π –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —è –≤–∏–¥–µ–ª, —ç—Ç–æ Flux 2. –ò—Ö —Å—É—â–Ω–æ—Å—Ç—å HelmRelease —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å HelmRepository –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —è–≤–Ω–æ.  

![screenshot-2021-07-10-at-20-05-06.webp](../../../assets/images/screenshot-2021-07-10-at-20-05-06.webp)

–í–æ—Ç —Ç–∞–∫—É—é —Å–≤—è–∑—å —É–∂–µ –º–æ–∂–Ω–æ –∫–∞–∫-—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤ IDE. –û–¥–Ω–∞–∫–æ, –∫—Ä–æ–º–µ Flux 2 —Ç–∞–∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∫—Ç–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –∞ –≤ –±–∞–∑–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç—è—Ö –∫—É–±–∞ –Ω–∏—á–µ–≥–æ –ø–æ–¥–æ–±–Ω–æ–≥–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –Ω–µ—Ç.  
  

## –ö–∞–∫ —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∞—é—Ç—Å—è —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –¥–∞—é—Ç –Ω–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, —è–≤–Ω—ã–µ —Å–≤—è–∑–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.  
  
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –¥–ª—è k8s —Ö–≤–∞—Ç–∞–µ—Ç.  
–î–ª—è –∫–æ–¥–∞ –Ω–∞ jsonnet: [tanka](https://tanka.dev/), [jsonnet](https://jsonnet.org/articles/kubernetes.html), [kapitan](https://kapitan.dev/).  
–î–ª—è –∫–æ–¥–∞ –Ω–∞ typescript, javascript, python: [cdk8s –æ—Ç AWS](https://cdk8s.io/) –∏ [Pulumi](https://pulumi.com/). Pulumi —Ç–∞–∫ –∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ Go –∏ C#.  
  
Terraform —Ç–æ–∂–µ –ø—ã—Ç–∞–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —à–∞–≥–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—É —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ [terraform-cdk](https://github.com/hashicorp/terraform-cdk), –Ω–æ –æ–Ω–æ —Å–µ–π—á–∞—Å –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –ø–æ–∫–∞ –Ω–µ –º–æ–≥—É —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.  
  
–Ø –ø—Ä–∏–≤–µ–¥—É –ø–∞—Ä—É –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –∫–æ–¥–æ–º –Ω–∞ Typescript, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -- Pulumi. –ü—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ –¥—Ä—É–≥–∏—Ö ¬Ø\_(„ÉÑ)_/¬Ø  
  
–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —è –Ω–∞–ø–∏—Å–∞–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–∏–π –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —è–º–ª–∞–º –∫–æ–¥, –Ω–æ —É–∂–µ —Ä–µ—à–∞—é—â–∏–π —á–∞—Å—Ç—å –ø—Ä–æ–±–ª–µ–º.

![screenshot-2021-06-27-at-09-55-02-1.webp](../../../assets/images/screenshot-2021-06-27-at-09-55-02-1.webp)

**Ingress** 
Ingress –∑–∞–±–∏—Ä–∞–µ—Ç service name –∏ port –ø—Ä—è–º–∏–∫–æ–º –∏–∑ Service. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —è–≤–Ω–æ –≤–∏–¥–µ—Ç—å —Å–≤—è–∑—å —ç—Ç–∏—Ö –¥–≤—É—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Service —Å–∞–º–∏ –ø—Ä–∏–ª–µ—Ç–∞—é—Ç –≤ Ingress, –ª—é–±–∞—è IDE –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥—Å–∫–∞–∂–µ—Ç, –µ—Å–ª–∏ –º—ã –∫–∞–∫-—Ç–æ —Å–ª–æ–º–∞–µ–º —ç—Ç—É —Å–≤—è–∑—å. –ë—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –æ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤, –ø–æ–ø—ã—Ç–∫—É –∫–∏–¥–∞—Ç—å –∏–∑ Ingress —Ç—Ä–∞—Ñ–∏–∫ –≤ Service, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ —Ç.–¥.

**Service  
**–í Service –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è. –ù—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –ø—Ä—è–º–∏–∫–æ–º –∏–∑ Deployment, —Å–≤—è–∑—å —è–≤–Ω–∞—è, –º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, IDE –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –¥–∞–¥—É—Ç –Ω–∞–º —Å–æ–≤–µ—Ä—à–∏—Ç—å –æ—à–∏–±–∫—É.  
  
**Deployment  
**–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ª–µ–π–±–ª—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤—ã–Ω–µ—Å–µ–Ω–∏–µ –∏—Ö –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É.  
  
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —è —É–∂–µ —Ä–µ—à–∏–ª –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø—Ä–æ–±–ª–µ–º, –≥–æ–ª–æ–≤–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –Ω—é–∞–Ω—Å–æ–≤, –º–µ–Ω—è—Ç—å –∫–æ–¥ —Å—Ç–∞–ª–æ —Å–∏–ª—å–Ω–æ –ø—Ä–æ—â–µ. –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–º–Ω–∏—Ç—å –æ —Ç–æ–º —á—Ç–æ _labels_ –≤ Deployment –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –≤ —Ä–∞–º–∫–∞—Ö Namespace, –¥–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –ø–æ—Ä—Ç–æ–≤ —è —Å–¥–µ–ª–∞–ª –Ω–µ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ. –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç —Å—Ç—Ä–µ–ª—å–Ω—É—Ç—å, –Ω–æ –¥–∞–∂–µ –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ —Ç—É—Ç –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –æ—à–∏–±–∫–∏.  
  
–ö —Å—á–∞—Å—Ç—å—é, —ç—Ç–æ –Ω–µ –ø—Ä–µ–¥–µ–ª —Ç–æ–≥–æ —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å! Pulumi —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É [kubernetesx](https://github.com/pulumi/pulumi-kubernetesx), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–Ω–∏–º–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∑–∞–±–∏—Ä–∞–µ—Ç –Ω–∞ —Å–µ–±—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º —ç—Ç–∏–º —É–∂–∞—Å–æ–º.  
  
–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –Ω–∞ kubernetesx. –ö–æ–¥–∞ –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ, –æ–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ —á—Ç–æ –Ω–∞–º —Ä–µ–∞–ª—å–Ω–æ –≤–∞–∂–Ω–æ, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∑—è–ª–∞ –Ω–∞ —Å–µ–±—è. –û–ø–∏—Å–∞–ª–∏ –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç pod, –¥–∞–ª—å—à–µ kubernetesx —Å–∞–º —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Deployment –∏ Service.

![screenshot-2021-06-27-at-10-20-38-1.webp](../../../assets/images/screenshot-2021-06-27-at-10-20-38-1.webp)

–î–∞, –¥–ª—è Ingress –≤ kubernetesx –µ—â–µ –Ω–µ –ø—Ä–∏–¥—É–º–∞–ª–∏ —Ö–æ—Ä–æ—à–µ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ—é. –ù–∞–±—Ä–æ—Å–∞–ª –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞:

![screenshot-2021-07-10-at-19-14-15.webp](../../../assets/images/screenshot-2021-07-10-at-19-14-15.webp)

–ù–∞ –æ–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —É –º–µ–Ω—è —É—à–ª–æ –ø—Ä–∏–º–µ—Ä–Ω–æ 5 –º–∏–Ω—É—Ç. –î–∞, –æ–Ω–∞ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–∞, –Ω–æ —É–∂–µ —Å–Ω–∏–º–∞–µ—Ç —Å –±–µ–¥–Ω–æ–π –≥–æ–ª–æ–≤—ã —á–∞—Å—Ç—å –ø—Ä–æ–±–ª–µ–º.  
  
–° —Ç–∞–∫–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –∫–æ–¥–∞ —Å—Ç–∞–ª–æ —Å–æ–≤—Å–µ–º –º–∞–ª–æ, –∏ –Ω–∞–º —Å–æ–≤—Å–µ–º –Ω–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –ø—Ä–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏. –ö–æ–¥ –∑–∞–±—Ä–∞–ª –≤—Å–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ–±—è.

![screenshot-2021-07-10-at-19-16-36.webp](../../../assets/images/screenshot-2021-07-10-at-19-16-36.webp)

–†–∞–∑ —É–∂ —è —Ä–∞–∑–æ—à–µ–ª—Å—è –∏ –Ω–∞—á–∞–ª –ø–∏—Å–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã, –¥–∞–≤–∞–π –ø–æ–π–¥–µ–º –µ—â–µ –¥–∞–ª—å—à–µ –∏ —Å–¥–µ–ª–∞–µ–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¥–ª—è —Ç–∏–ø–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í Evil Martians, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ RubyOnRails, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –Ω–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä—è—á–µ—Ç –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤—Å—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫—É–±–∞ –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç.

![screenshot-2021-07-10-at-19-31-23.webp](../../../assets/images/screenshot-2021-07-10-at-19-31-23.webp)
–≠—Ç–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–æ—Å—Ç–æ –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –∫–æ–¥–æ–º –≤—ã—à–µ, —è –µ–µ –Ω–∞–ø–∏—Å–∞–ª –±—É–∫–≤–∞–ª—å–Ω–æ –∑–∞ 1-2 –º–∏–Ω—É—Ç—ã. –†–∞–∑—Ä–∞–±–æ—Ç–∫—É —Ç–µ–ø–µ—Ä—å –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ –∫—É–±–µ! –î–∞, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –±—É–¥–µ—Ç —á—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –Ω–µ–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **_sidekiq: true | false_** –∏ requests/limits, –Ω–æ –∫–æ–¥ –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ —Å—Ç–∞–Ω–µ—Ç —Å–ª–æ–∂–Ω–µ–µ :)  
  
–ö–æ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è Ruby On Rails:

![screenshot-2021-07-10-at-19-33-32.webp](../../../assets/images/screenshot-2021-07-10-at-19-33-32.webp)

## –ú–æ–π –≤—ã–≤–æ–¥

–°—É—â–Ω–æ—Å—Ç–∏ Kubernetes –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–µ, –∏–∑-–∑–∞ —Ç–æ–≥–æ —á—Ç–æ –º–µ–∂–¥—É –Ω–∏–º–∏ –º–Ω–æ–≥–æ –Ω–µ—è–≤–Ω—ã—Ö —Å–≤—è–∑–µ–π, YAML –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏–º. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—å—Å—è –¥–µ—Ä–∂–∞—Ç—å –≤ –≥–æ–ª–æ–≤–µ, —á–µ—Ä–µ–∑ —è–≤–Ω—ã–µ —Å–≤—è–∑–∏ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π. –ß–µ–º –º–µ–Ω—å—à–µ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ —Ç–æ–º –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–µ–º –º–µ–Ω—å—à–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –∏ —Ç–µ–º –º–µ–Ω—å—à–µ —Ç—ã —É—Å—Ç–∞–µ—à—å –æ—Ç —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Å–µ–º —ç—Ç–∏–º –±–∞—Ä–¥–∞–∫–æ–º!  

–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏, –º–æ–∂–Ω–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –Ω–∞–∫–ª–µ–ø–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –æ–±–ª–µ–≥—á–∏—Ç—å –∏ –∏—Ö –∂–∏–∑–Ω—å —Ç–æ–∂–µ!  

## –°—Å—ã–ª–∫–∏
1.  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
    1.  [Pulumi](https://pulumi.com/)
        1.  [kubernetesx](https://github.com/pulumi/pulumi-kubernetesx)
        2.  [–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π —Å Component Resource](https://www.pulumi.com/blog/creating-and-reusing-cloud-components-using-package-managers/)
    2.  [cdk8s –æ—Ç AWS](https://cdk8s.io/)
    3.  [Terraform CDK](https://www.hashicorp.com/blog/cdk-for-terraform-enabling-python-and-typescript-support)
2.  Jsonnet –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
    1.  [tanka](https://tanka.dev/)
    2.  [jsonnet](https://jsonnet.org/articles/kubernetes.html)
    3.  [kapitan](https://kapitan.dev/).

### P.S.
–£–∂–µ –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —è –∑–∞–º–µ—Ç–∏–ª —á—Ç–æ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–¥–∞ –Ω–∞ YAML —É –º–µ–Ω—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è selector –≤ Service –æ—Ç labels –≤ Deployment. –í–æ—Ç –≤–∏–¥–∏—à—å –Ω–∞ —Å–∫–æ–ª—å–∫–æ –≤—Å–µ –ø–ª–æ—Ö–æ! ü§£
